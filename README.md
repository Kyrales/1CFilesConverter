# Набор скриптов для конвертации файлов 1С между различными форматами (Binary, XML, EDT)

Цель - упростить использование инструментов конвертации до вызова одного скрипта с парой параметров.

Скрипты расположены в каталоге [scripts](./scripts)

## Необходимые инструменты

* [Платформа 1С:Предприятие 8.3](https://releases.1c.ru/project/Platform83)
* [Java runtime environment 11](https://releases.1c.ru/project/Liberica11FullJDK)
* [1C:Enterprise Development Tools (EDT)](https://releases.1c.ru/project/DevelopmentTools10)
* Утилита ring (входит в состав EDT) - путь к утилите ring должен быть прописан в переменной среды `PATH`

## Переменные среды

* **V8_VERSION** - версия используемой платформы 1С:Предприятие (по умолчанию: 8.3.20.2290)
* **V8_TEMP** - путь к каталогу для создания временных файлов в процессе конвертации (по умолчанию: %TEMP%\1c)

## Скрипты конвертации

### [conf2ib.cmd](./scripts/cf2ib.cmd)

Выполняет загрузку конфигурации из указанного источника в файловую информационную базу.

Источником может выступать:

* Файл выгрузки конфигурации (cf)
* Каталог выгрузки конфигурации в файлы (xml)
* Каталог проекта 1C:Enterprise Development Tools (EDT)

Параметры:

* Путь к источнику конфигурации
* Путь к файловой информационной базе
* Используемый инструмент для выгрузки - **designer**, **ibcmd** (по умолчанию: **ibcmd**)

### [conf2xml.cmd](./scripts/conf2xml.cmd)

Выполняет выгрузку конфигурации из указанного источника в формат выгрузки конфигуратора (XML).

Источником может выступать:

* Файл выгрузки конфигурации (cf)
* Файловая информационная база
* Каталог проекта 1C:Enterprise Development Tools (EDT)

Параметры:

* Путь к источнику конфигурации
* Путь к каталогу выгрузки файлов конфигурации
* Используемый инструмент для выгрузки - **designer**, **ibcmd** (по умолчанию: **ibcmd**)

### [conf2edt.cmd](./scripts/conf2edt.cmd)

Выполняет выгрузку конфигурации из указанного источника в проект 1C:Enterprise Development Tools (EDT).

Источником может выступать:

* Файл выгрузки конфигурации (cf)
* Файловая информационная база
* Каталог выгрузки конфигурации в файлы (xml)

Параметры:

* Путь к источнику конфигурации
* Путь к каталогу проекта EDT
* Используемый инструмент для выгрузки - **designer**, **ibcmd** (по умолчанию: **ibcmd**)

### [conf2cf.cmd](./scripts/conf2cf.cmd)

Выполняет выгрузку конфигурации из указанного источника в CF-файл конфигурации.

Источником может выступать:

* Файловая информационная база
* Каталог выгрузки конфигурации в файлы (xml)
* Каталог проекта 1C:Enterprise Development Tools (EDT)

Параметры:

* Путь к источнику конфигурации
* Путь к CF-файлу конфигурации
* Используемый инструмент для выгрузки - **designer**, **ibcmd** (по умолчанию: **ibcmd**)

### [dp2xml.cmd](./scripts/dp2xml.cmd)

Выполняет конвертацию файлов внешних отчетов и обработок в формат выгрузки конфигуратора (XML).

Источником может выступать:

* Бинарный файл внешнего отчета или обработки (epf, erf)
* Каталог, содержащий бинарные файлы внешних отчетов и обработок (epf, erf)
* Каталог проекта 1C:Enterprise Development Tools (EDT)

Параметры:

* Путь к источнику внешних отчетов и обработок
* Путь к каталогу для сохранения в формате выгрузки конфигуратора (XML)
* Путь к информационной базе или конфигурации в любом из форматов (CF, XML, EDT)

Для использования базовой конфигурации в различных форматах может потребовать наличия скрипта [conf2ib.cmd](./scripts/conf2ib.cmd)

### [dp2edt.cmd](./scripts/dp2edt.cmd)

Выполняет конвертацию файлов внешних отчетов и обработок  в проект 1C:Enterprise Development Tools (EDT).

Источником может выступать:

* Бинарный файл внешнего отчета или обработки (epf, erf)
* Каталог, содержащий бинарные файлы внешних отчетов и обработок (epf, erf)
* Каталог внешних отчетов и обработок формате выгрузки конфигуратора (XML)

Параметры:

* Путь к источнику внешних отчетов и обработок
* Путь к каталогу проекта 1C:Enterprise Development Tools (EDT)
* Путь к информационной базе или конфигурации в любом из форматов (CF, XML, EDT)

Для использования базовой конфигурации в различных форматах может потребовать наличия скрипта [conf2ib.cmd](./scripts/conf2ib.cmd)

### [dp2epf.cmd](./scripts/dp2epf.cmd)

Выполняет сборку внешних отчетов и обработок в бинарный формат (epf/erf).

Источником может выступать:

* Путь к основному файлу внешнего отчета или обработки в формате выгрузки конфигуратора (XML)
* Каталог внешних отчетов и обработок формате выгрузки конфигуратора (XML)
* Каталог проекта 1C:Enterprise Development Tools (EDT)

Параметры:

* Путь к источнику внешних отчетов и обработок
* Путь к каталогу для сохранения бинарных файлов внешних отчетов и обработок
* Путь к информационной базе или конфигурации в любом из форматов (CF, XML, EDT)

Для использования базовой конфигурации в различных форматах может потребовать наличия скрипта [conf2ib.cmd](./scripts/conf2ib.cmd)

### [edt-validate.cmd](./scripts/edt-validate.cmd)

Выполняет проверку проекта 1C:Enterprise Development Tools (EDT).
Может использоваться для проектов конфигураций, расширений, внешних отчетов и отбработок.

Проверяем проектом может выступать:

* Путь к файловой информационной базе 1С
* Файл выгрузки конфигурации (cf)
* Каталог выгрузки конфигурации в файлы (xml)
* Каталог бинарных файлов внешних отчетов и обработок (epf, erf)
* Каталог внешних отчетов и обработок формате выгрузки конфигуратора (XML)
* Каталог проекта 1C:Enterprise Development Tools (EDT)

Параметры:

* Проверяемый проект
* Путь к файлу отчета о проверке
* Путь к информационной базе или конфигурации в любом из форматов (CF, XML, EDT)

Для работы с конфигурациями в различных форматах может потребовать наличия скрипта [conf2edt.cmd](./scripts/conf2edt.cmd)
